<!DOCTYPE html>
<html>

<head>
    <title></title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.css" rel="stylesheet">
    <script src="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.js"></script>
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link href="../styles/styles.css" rel="stylesheet" type="text/css">
</head>

<body>
    <div class='forms mdc-card'>
        <div class="form-list">
              
          
            <div class="form-component">
                    <div class="mdc-text-field mdc-text-field--with-leading-icon"
                        data-mdc-auto-init="MDCTextField" id='customer-contact'>
                        <i class="material-icons mdc-text-field__icon mdc-theme--primary" tabindex="0" role="button">contacts</i>
                        <input class="mdc-text-field__input" type="tel">
                        <div class="mdc-line-ripple"></div>
                        <label class="mdc-floating-label">Customer Contact</label>
                    </div>
                </div>
            <div class="form-component">

                    <div class="mdc-text-field  mdc-text-field--with-leading-icon"
                        data-mdc-auto-init="MDCTextField" id='customer-name'>
                        <input class=" mdc-text-field__input" type="text" id="" required>
                        <label for="input" class="mdc-floating-label" id="cc">Customer Name</label>
                        <i class="material-icons mdc-text-field__icon" tabindex="0" role="button"
                            id="logo">perm_identity</i>
                        <div class="mdc-line-ripple"></div>
                    </div>
                </div>
                <div class="form-component">

                        <div class="mdc-select">
                            <i class="mdc-select__dropdown-icon"></i>
                            <select class="mdc-select__native-control">
                                <option value="" disabled selected></option>
                            </select>
                            <label class="mdc-floating-label">Customer Type</label>
                            <div class="mdc-line-ripple"></div>
                        </div>
                    </div>
                    <div class="form-component">
                            <div class="mdc-text-field  mdc-text-field--with-leading-icon"
                            data-mdc-auto-init="MDCTextField" id='location'>
                            <input class=" mdc-text-field__input" type="text" id="location">
                            <label for="input" class="mdc-floating-label" id="cc">Location</label>
                            <i class="material-icons mdc-text-field__icon" tabindex="0" role="button"
                                id="logo">location_on</i>
                            <div class="mdc-line-ripple"></div>
                        </div>

                    </div>
            <div class="form-component">
                    <div class="mdc-text-field   mdc-text-field--textarea"
                        data-mdc-auto-init="MDCTextField">
                        <textarea id="textarea" class="mdc-text-field__input" rows="4" cols="100"
                            required="true"></textarea>
                        <div class="mdc-notched-outline">
                            <div class="mdc-notched-outline__leading"></div>
                            <div class="mdc-notched-outline__notch">
                                <label for="textarea" class="mdc-floating-label">Address</label>
                            </div>
                            <div class="mdc-notched-outline__trailing"></div>
                        </div>
                    </div>
                </div>
        </div>

    </div>
    <script type=" text/javascript">
        window.mdc.autoInit();
        const select = new mdc.select.MDCSelect(document.querySelector('.mdc-select'));
        const customerContact = new mdc.textField.MDCTextField(document.getElementById('customer-contact'))
        const customerName = new mdc.textField.MDCTextField(document.getElementById('customer-name'))
     
        console.log(  customerContact.foundation_.adapter_.getNativeInput())
        customerContact.foundation_.adapter_.getNativeInput().addEventListener('click',function(){
     
           AndroidInterface.getContact()
       });
    
        function init(office) {
            console.log(parent)
            const tx = parent.db.transaction(['children'])
            const keyRange= IDBKeyRange.only([office,'customer-type'])
            tx.objectStore('children').index('officeTemplate').openCursor(keyRange).onsuccess = function(event){
                const cursor = event.target.result;
                if(!cursor) return;
                if(cursor.value.status === 'CANCELLED') {
                    cursor.continue();
                    return;
                }
                select.nativeControl_.innerHTML += ` <option value="cursor.value.attachment.Name.value">
                        ${cursor.value.attachment.Name.value}
                      </option>`
                cursor.continue();
            }
            tx.oncomplete = function(){
                if(select.nativeControl_.children.length <= 1) {
                    select.foundation_.adapter_.addClass('hidden')
                }
            }
        }
      
       
        function setContact(contactString) {
            console.log(contactString);
            customerContact.value = contactString.split("&")[0].split("=")[1]
            customerName.value = contactString.split("&")[1].split("=")[1]
        }
    </script>
</body>

</html>