<html>
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="../../v1/external/css/material.min.css" rel="stylesheet">

    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link href="../styles/style.css" rel="stylesheet" type="text/css">
    </head>

    <body>
        <ul class="mdc-list" id='list'>
            
        </ul>
    </body>
    <script src="../../v1/external/js/material.min.js"></script>
    <script>
     let string = ''
     for (let index = 0; index < 50; index++) {
         string += `
         <li class='mdc-list-item'  ontouchstart="touchStart(event,${index})" ontouchEnd="touchEnd(event)" ontouchmove="touchMove(event)" ontouchcancel="touchCancel(event)">list number ${index}
            <div class="mdc-list-item__meta material-icons mdc-menu-surface--anchor" aria-hidden="true">more_vert
                    <div class="mdc-menu mdc-menu-surface" id="${index}">
                        <ul class="mdc-list" role="menu" aria-hidden="true" aria-orientation="vertical" tabindex="-1">
                            <li class="mdc-list-item" role="menuitem">
                                <span class="mdc-list-item__text">A Menu Item</span>
                            </li>
                        </ul>
                </div>        
            </div>
           

        </li>
         `
     }
     document.getElementById('list').innerHTML = string;
     const duration = 1000
     let timer = null;
     function handleLongPress(event,index){
        console.log(`long press at ${index} : generated Event`,event)
        const menu = new mdc.menu.MDCMenu(document.getElementById(index));
        menu.open = true;
     };

     function touchStart(event,index) {
        console.log('touchStart',event);
        console.log('index',index);
        timer = setTimeout(function(){
            handleLongPress(event,index)
        },duration)
     }
     function touchEnd(event){
        clearTimeout(timer)
        console.log('touchEnd',event)
     }

     function touchMove(event) {
         clearTimeout(timer)
    
        console.log('touchMove',event)
     }
     function touchCancel(event) {
        clearTimeout(timer)
        
        console.log('touchCancel',event)
     }
    </script>
</html>